<script>
window.addEventListener('beforeunload', function() {
  clearInterval(interval);
});

window.addEventListener('load', function() {
  if (savedFinalValue) {
    const pElement = document.createElement('p');
      const timeSpent = localStorage.getItem('timeSpent');
      const minutes = Math.floor(timeSpent / 60);
      const savedFinalValue = Math.floor(minutes / 3);
    pElement.textContent = `Last session time: ${savedFinalValue} units`;
    document.body.appendChild(pElement);
  }
  let timeSpentOnPage = parseInt(localStorage.getItem('timeSpent'), 10) || 0;
let interval;

document.addEventListener('visibilitychange', function() {
  if (document.visibilityState === 'visible') {
    interval = setInterval(() => {
      timeSpentOnPage++;
      localStorage.setItem('timeSpent', timeSpentOnPage.toString());
    }, 1000);
  } else {
    clearInterval(interval);
  }
});
});

</script>
