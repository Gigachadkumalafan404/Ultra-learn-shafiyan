<input type="file" id="imageInput" accept="image/*">

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-app.js";
import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-database.js";

        const firebaseConfig = {
  apiKey: "AIzaSyD-cZWlpAQQX9KP3d4SrDoNTUtoleVTxd8",
  authDomain: "user-sumbitted.firebaseapp.com",
  databaseURL: "https://user-sumbitted-default-rtdb.firebaseio.com",
  projectId: "user-sumbitted",
  storageBucket: "user-sumbitted.appspot.com",
  messagingSenderId: "602883172931",
  appId: "1:602883172931:web:7b714dc1f2a473effe82f6"
        };
        
  const app = initializeApp(firebaseConfig);

  
function writeUserData(imgid) {
  const db = getDatabase();
  set(ref(db, 'heads/'), {
    img: imgid,
  });
}

  document.getElementById("imageInput").addEventListener("change", handleImageUpload);

function handleImageUpload(event) {
    const file = event.target.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = function (e) {
        const base64Image = e.target.result.split(",")[1]; // Extract base64 part
 writeUserData(base64Image)
    };
    reader.readAsDataURL(file);
}
</script>
